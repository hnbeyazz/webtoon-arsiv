<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ¶lÃ¼m 9 - Merry Marbling (Yenilmez Mod)</title>
    <style>
        @font-face { font-family: 'PublicaSans'; src: url('PublicaSans-Italic.otf') format('opentype'); font-weight: normal; font-style: italic;}
        * { -webkit-tap-highlight-color: transparent; outline: none; touch-action: manipulation; }
        body { 
            margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; 
            background-color: #00001a; background-image: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('media17.jpg'); 
            background-attachment: fixed; background-size: cover; background-position: center; font-family: 'PublicaSans', italic;
        }
        .site-header { width: 100%; padding: 40px 0; display: flex; justify-content: space-between; align-items: center; position: relative; z-index: 1000; }
        .site-logo { height: 180px; width: auto; transition: transform 0.3s ease; }
        .logo-sol { margin-left: 50px; } .logo-sag { margin-right: 50px; }
        #game-container {
            text-align: center; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            padding: 20px; border-radius: 20px; width: 90%; max-width: 320px;
            border: 1px solid rgba(255,255,255,0.2); color: white; box-shadow: 0 8px 32px rgba(0,0,0,0.5); margin-bottom: 30px;
        }
        #board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 20px 0; }
        .cell { 
            width: 100%; aspect-ratio: 1/1; background: rgba(255, 255, 255, 0.05); 
            border: 1px solid rgba(255, 203, 219, 0.4); border-radius: 12px; 
            display: flex; align-items: center; justify-content: center; font-size: 2.2rem; 
            cursor: pointer; transition: 0.3s; 
        }
        .cell:hover { background: rgba(255, 203, 219, 0.2); }
        .btn-reset { background: #ffcbdb; color: #000; border: none; padding: 12px 30px; border-radius: 30px; cursor: pointer; font-weight: bold; margin-bottom: 20px; }
        .status-msg { font-size: 1rem; margin-bottom: 10px; height: 1.2rem; color: #ffcbdb; }
        .yorum-arkaplan-paneli { width: 95%; max-width: 900px; padding: 20px; background: rgba(0, 0, 0, 0.4); border-radius: 15px; margin-bottom: 50px; }
        @media (max-width: 600px) { .site-logo { height: 80px; } .logo-sol { margin-left: 15px; } .logo-sag { margin-right: 15px; } }
    </style>
</head>
<body>
    <header class="site-header">
        <img src="bde76bbd2219b950f8260f7a1e7c8f95-removebg-preview.png" class="site-logo logo-sol">
        <img src="bcece9b4e9950676edf34fe974961d5b-removebg-preview.png" class="site-logo logo-sag">
    </header>

    <div id="game-container">
        <div class="status-msg" id="status">SÄ±ra sende (X)</div>
        <div id="board">
            <div class="cell" onclick="playerMove(0)"></div>
            <div class="cell" onclick="playerMove(1)"></div>
            <div class="cell" onclick="playerMove(2)"></div>
            <div class="cell" onclick="playerMove(3)"></div>
            <div class="cell" onclick="playerMove(4)"></div>
            <div class="cell" onclick="playerMove(5)"></div>
            <div class="cell" onclick="playerMove(6)"></div>
            <div class="cell" onclick="playerMove(7)"></div>
            <div class="cell" onclick="playerMove(8)"></div>
        </div>
        <button class="btn-reset" onclick="resetGame()">Yeniden BaÅŸlat</button>
        <div style="font-size: 0.8rem; opacity: 0.8;">Skor: Sen <span id="p-score" style="color:#fab1a0">0</span> - <span id="b-score" style="color:#81ecec">0</span> Bot</div>
    </div>

    <div class="yorum-arkaplan-paneli"><div id="disqus_thread"></div></div>

    <script>
        let board = ['', '', '', '', '', '', '', '', ''];
        let gameActive = true;
        const human = 'X';
        const ai = 'O';

        let pScore = localStorage.getItem('lucaenWins') || 0;
        let bScore = localStorage.getItem('lucaenBotWins') || 0;
        document.getElementById('p-score').innerText = pScore;
        document.getElementById('b-score').innerText = bScore;

        function playerMove(i) {
            if (board[i] === '' && gameActive) {
                makeMove(i, human);
                if (gameActive) {
                    document.getElementById('status').innerText = "Bot hesaplÄ±yor...";
                    setTimeout(() => {
                        let bestMove = getBestMove();
                        makeMove(bestMove, ai);
                        if (gameActive) document.getElementById('status').innerText = "SÄ±ra sende (X)";
                    }, 500);
                }
            }
        }

        function makeMove(i, p) {
            board[i] = p;
            const cell = document.getElementsByClassName('cell')[i];
            cell.innerText = p;
            cell.style.color = p === human ? '#fab1a0' : '#81ecec';
            checkWinner();
        }

        function getBestMove() {
            let bestScore = -Infinity;
            let move;
            for (let i = 0; i < 9; i++) {
                if (board[i] === '') {
                    board[i] = ai;
                    let score = minimax(board, 0, false);
                    board[i] = '';
                    if (score > bestScore) {
                        bestScore = score;
                        move = i;
                    }
                }
            }
            return move;
        }

        const scores = { X: -10, O: 10, tie: 0 };

        function minimax(board, depth, isMaximizing) {
            let result = checkGameOver();
            if (result !== null) return scores[result];

            if (isMaximizing) {
                let bestScore = -Infinity;
                for (let i = 0; i < 9; i++) {
                    if (board[i] === '') {
                        board[i] = ai;
                        let score = minimax(board, depth + 1, false);
                        board[i] = '';
                        bestScore = Math.max(score, bestScore);
                    }
                }
                return bestScore;
            } else {
                let bestScore = Infinity;
                for (let i = 0; i < 9; i++) {
                    if (board[i] === '') {
                        board[i] = human;
                        let score = minimax(board, depth + 1, true);
                        board[i] = '';
                        bestScore = Math.min(score, bestScore);
                    }
                }
                return bestScore;
            }
        }

        function checkGameOver() {
            const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            for (let p of wins) {
                if (board[p[0]] && board[p[0]] === board[p[1]] && board[p[0]] === board[p[2]]) return board[p[0]];
            }
            return board.includes('') ? null : 'tie';
        }

        function checkWinner() {
            let result = checkGameOver();
            if (result) {
                gameActive = false;
                if (result === 'tie') document.getElementById('status').innerText = "Berabere! ðŸ¤";
                else {
                    document.getElementById('status').innerText = result === human ? "Ä°mkansÄ±z! KazandÄ±n ðŸŽ‰" : "LucaenBot KazandÄ± ðŸ˜“";
                    if(result === human) { pScore++; localStorage.setItem('lucaenWins', pScore); }
                    else { bScore++; localStorage.setItem('lucaenBotWins', bScore); }
                    document.getElementById('p-score').innerText = pScore;
                    document.getElementById('b-score').innerText = bScore;
                }
            }
        }

        function resetGame() {
            board = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            document.getElementById('status').innerText = "SÄ±ra sende (X)";
            Array.from(document.getElementsByClassName('cell')).forEach(c => c.innerText = '');
        }

        var disqus_config = function () { this.page.url = window.location.href; this.page.identifier = 'merry-marbling-bolum-9-yenilmez'; };
        (function() { var d = document, s = d.createElement('script'); s.src = 'https://https-hnbeyazz-github-io-webtoon-arsiv.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })();
    </script>
</body>
</html>

